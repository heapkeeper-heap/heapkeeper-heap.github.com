<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Sphinx install</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
  </head>
  <body >
    <h1 id="header">Sphinx install</h1>


<div class="post-box"><!-- post hh/360 -->
<div class="post-summary" id="post-summary-hh-360">
<span class="author">Csaba Hoch</span>
<span class="subject">Sphinx install</span>
<span class="tags">[reviewed]</span>
<span class="index"><a href="../hh/thread_360.html#post-summary-hh-360">&lt;hh/360&gt;</a></span>
<span class="date">(2009-05-31)</span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-392">hh/392</a></span>
<pre class="post-body-content">Would you try to install Sphinx? I'd like to make a documentation page
about installing and using Sphinx, and I'd like to make sure that it
works for you too.

Installing hg: (if you can apt-get it, do that)

<span class="raw-block">    $ cd &lt;my programs&gt;
    $ wget http://www.selenic.com/mercurial/release/mercurial-1.2.1.tar.gz
    $ tar xzf mercurial-1.2.1.tar.gz
    $ cd mercurial-1.2.1
    $ make &amp;&amp; sudo make install
</span>
Installing Sphinx:

<span class="raw-block">    $ cd &lt;my programs&gt;
    $ hg clone http://bitbucket.org/birkenfeld/sphinx/
    $ cd sphinx
    $ python setup.py build
    $ sudo python setup.py install
</span>
I think this mechanism also downloads the Pygments lib if it is not
present.

Building the docs:

<span class="raw-block">    $ cd &lt;heapkeeper&gt;
    $ cd doc
    $ make html
    &lt;Open &lt;heapkeeper&gt;/doc/_build/html/index.html&gt;
</span>
You can push the documentation to the web:

<span class="raw-block">    $ cd &lt;heapkeeper&gt;
    $ scripts/pushdoc
    &lt;Type the password for hste.uw.hu&gt;
</span></pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/392 -->
<div class="post-summary" id="post-summary-hh-392">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post-summary-hh-392">&lt;hh/392&gt;</a></span>
<span class="date">(2009-07-15)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-360">hh/360</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-400">hh/400</a>,&nbsp;<a href="../hh/thread_360.html#post-summary-hh-402">hh/402</a></span>
<pre class="post-body-content">I added a section in the Development page [1][2] that describes how to
install Sphinx. We use a specific revision of their Mercurial
repository. The reason is that there are often bugs fixed and
introduced, so we cannot say either "we use the latest stable release"
or "we use the latest revision from the master branch". We will
periodically check the commits in the Sphinx repository and shift the
revision we use if we find that the latest revision works on our
documentation.

The documentation can be built in the following way:

<span class="raw-block">    $ cd &lt;heapkeeper&gt;
    $ cd doc
    $ make html
    &lt;Open &lt;heapkeeper&gt;/doc/_build/html/index.html&gt;
</span>
[1] <a href="http://heapkeeper.org/development.html">http://heapkeeper.org/development.html</a>
[2] 2009-07-15 582ab62f12
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/400 -->
<div class="post-summary" id="post-summary-hh-400">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post-summary-hh-400">&lt;hh/400&gt;</a></span>
<span class="date">(2009-07-21)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-392">hh/392</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; The reason is that there are often bugs fixed and introduced, so we
&gt; cannot say either "we use the latest stable release" or "we use the
&gt; latest revision from the master branch". We will periodically check
&gt; the commits in the Sphinx repository and shift the revision we use
&gt; if we find that the latest revision works on our documentation.
</span></span>
This explanation should be copied to the Development page, too. I
think it looks strange that we demand a specific revision of Sphinx.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/400 -->

<div class="post-box"><!-- post hh/402 -->
<div class="post-summary" id="post-summary-hh-402">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post-summary-hh-402">&lt;hh/402&gt;</a></span>
<span class="date">(2009-07-21)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-392">hh/392</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-407">hh/407</a></span>
<pre class="post-body-content">I tried to install Sphinx as described in the Developer documentation.
I got the following errors:

<span class="raw-block">    ...
    Installed /usr/lib/python2.5/site-packages/docutils-0.5-py2.5.egg
    Searching for Jinja2&gt;=2.1
    Reading http://pypi.python.org/simple/Jinja2/
    Reading http://jinja.pocoo.org/
    Best match: Jinja2 2.1.1
    Downloading
    http://pypi.python.org/packages/source/J/Jinja2/Jinja2-2.1.1.tar.gz#md5=b37fc262e4f613eec57c3defe6aea97c
    Processing Jinja2-2.1.1.tar.gz
    Running Jinja2-2.1.1/setup.py -q bdist_egg --dist-dir
    /tmp/easy_install-4efUjT/Jinja2-2.1.1/egg-dist-tmp-YeSOLg
    warning: no files found matching 'Makefile'
    warning: no files found matching 'ez_setup.py'
    warning: no previously-included files matching '*' found under
    directory 'docs/_build/doctrees'
    jinja2/_speedups.c:15:20: error: Python.h: No such file or directory
    ...
</span>
As expected, "sudo easy_install Jinja2" gives the same output.

Solution: I asked packages.ubuntu.com which package contains Python.h.
It is python-&lt;your-version-here&gt;-dev, or python-dev, which is a
metapackage depending on the dev package for the default version of
Python for your distibution.

What is strange is that by this step, the main Sphinx package and
docutils are already installed. So they don't need python-dev, only
jinja2 does?
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/407 -->
<div class="post-summary" id="post-summary-hh-407">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post-summary-hh-407">&lt;hh/407&gt;</a></span>
<span class="date">(2009-07-25)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_360.html#post-summary-hh-402">hh/402</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content">Interesting! Do you think we should mention this in the "Sphinx
install" section?
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/407 -->
</div><!-- postbox for post hh/402 -->
</div><!-- postbox for post hh/392 -->
</div><!-- postbox for post hh/360 -->

  </body>
</html>
