<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Thread hh/360</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Thread hh/360</h1>


<div class="postbox"><!-- post hh/360 -->
<span class="postsummary" id="post_hh/360">
<span class="author">Csaba Hoch</span>
<span class="subject">Sphinx install</span>
<span class="tags">[reviewed]</span>
<span class="index"><a href="../hh/thread_360.html#post_hh/360">&lt;hh/360&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2009-05-31)</span>
<div class="body">
<pre class="postbody">Would you try to install Sphinx? I'd like to make a documentation page
about installing and using Sphinx, and I'd like to make sure that it
works for you too.

Installing hg: (if you can apt-get it, do that)

    $ cd &lt;my programs&gt;
    $ wget <a href="http://www.selenic.com/mercurial/release/mercurial-1.2.1.tar.gz">http://www.selenic.com/mercurial/release/mercurial-1.2.1.tar.gz</a>
    $ tar xzf mercurial-1.2.1.tar.gz
    $ cd mercurial-1.2.1
    $ make &amp;&amp; sudo make install

Installing Sphinx:

    $ cd &lt;my programs&gt;
    $ hg clone <a href="http://bitbucket.org/birkenfeld/sphinx/">http://bitbucket.org/birkenfeld/sphinx/</a>
    $ cd sphinx
    $ python setup.py build
    $ sudo python setup.py install

I think this mechanism also downloads the Pygments lib if it is not
present.

Building the docs:

    $ cd &lt;heapkeeper&gt;
    $ cd doc
    $ make html
    &lt;Open &lt;heapkeeper&gt;/doc/_build/html/index.html&gt;

You can push the documentation to the web:

    $ cd &lt;heapkeeper&gt;
    $ scripts/pushdoc
    &lt;Type the password for hste.uw.hu&gt;
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/392 -->
<span class="postsummary" id="post_hh/392">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post_hh/392">&lt;hh/392&gt;</a></span>
<span class="parent"><a href="../hh/thread_360.html#post_hh/360">&lt;&uarr;hh/360&gt;</a></span>
<span class="date">(2009-07-15)</span>
<div class="body">
<pre class="postbody">I added a section in the Development page [1][2] that describes how to
install Sphinx. We use a specific revision of their Mercurial
repository. The reason is that there are often bugs fixed and
introduced, so we cannot say either "we use the latest stable release"
or "we use the latest revision from the master branch". We will
periodically check the commits in the Sphinx repository and shift the
revision we use if we find that the latest revision works on our
documentation.

The documentation can be built in the following way:

    $ cd &lt;heapkeeper&gt;
    $ cd doc
    $ make html
    &lt;Open &lt;heapkeeper&gt;/doc/_build/html/index.html&gt;

[1] <a href="http://heapkeeper.org/development.html">http://heapkeeper.org/development.html</a>
[2] 2009-07-15 582ab62f12
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/400 -->
<span class="postsummary" id="post_hh/400">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post_hh/400">&lt;hh/400&gt;</a></span>
<span class="parent"><a href="../hh/thread_360.html#post_hh/392">&lt;&uarr;hh/392&gt;</a></span>
<span class="date">(2009-07-21)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; The reason is that there are often bugs fixed and introduced, so we
&gt; cannot say either "we use the latest stable release" or "we use the
&gt; latest revision from the master branch". We will periodically check
&gt; the commits in the Sphinx repository and shift the revision we use
&gt; if we find that the latest revision works on our documentation.

</span></span>This explanation should be copied to the Development page, too. I
think it looks strange that we demand a specific revision of Sphinx.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/400 -->

<div class="postbox"><!-- post hh/402 -->
<span class="postsummary" id="post_hh/402">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post_hh/402">&lt;hh/402&gt;</a></span>
<span class="parent"><a href="../hh/thread_360.html#post_hh/392">&lt;&uarr;hh/392&gt;</a></span>
<span class="date">(2009-07-21)</span>
<div class="body">
<pre class="postbody">I tried to install Sphinx as described in the Developer documentation.
I got the following errors:

    ...
    Installed /usr/lib/python2.5/site-packages/docutils-0.5-py2.5.egg
    Searching for Jinja2&gt;=2.1
    Reading <a href="http://pypi.python.org/simple/Jinja2/">http://pypi.python.org/simple/Jinja2/</a>
    Reading <a href="http://jinja.pocoo.org/">http://jinja.pocoo.org/</a>
    Best match: Jinja2 2.1.1
    Downloading
    <a href="http://pypi.python.org/packages/source/J/Jinja2/Jinja2-2.1.1.tar.gz#md5=b37fc262e4f613eec57c3defe6aea97c">http://pypi.python.org/packages/source/J/Jinja2/Jinja2-2.1.1.tar.gz#md5=b37fc262e4f613eec57c3defe6aea97c</a>
    Processing Jinja2-2.1.1.tar.gz
    Running Jinja2-2.1.1/setup.py -q bdist_egg --dist-dir
    /tmp/easy_install-4efUjT/Jinja2-2.1.1/egg-dist-tmp-YeSOLg
    warning: no files found matching 'Makefile'
    warning: no files found matching 'ez_setup.py'
    warning: no previously-included files matching '*' found under
    directory 'docs/_build/doctrees'
    jinja2/_speedups.c:15:20: error: Python.h: No such file or directory
    ...

As expected, "sudo easy_install Jinja2" gives the same output.

Solution: I asked packages.ubuntu.com which package contains Python.h.
It is python-&lt;your-version-here&gt;-dev, or python-dev, which is a
metapackage depending on the dev package for the default version of
Python for your distibution.

What is strange is that by this step, the main Sphinx package and
docutils are already installed. So they don't need python-dev, only
jinja2 does?
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/407 -->
<span class="postsummary" id="post_hh/407">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_360.html#post_hh/407">&lt;hh/407&gt;</a></span>
<span class="parent"><a href="../hh/thread_360.html#post_hh/402">&lt;&uarr;hh/402&gt;</a></span>
<span class="date">(2009-07-25)</span>
<div class="body">
<pre class="postbody">Interesting! Do you think we should mention this in the "Sphinx
install" section?
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/407 -->
</div><!-- postbox for post hh/402 -->
</div><!-- postbox for post hh/392 -->
</div><!-- postbox for post hh/360 -->

  </body>
</html>
