<!-- Generated by Heapkeeper v0.4 on 2010-04-10 13:44:40 -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Thread hh/1016</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Thread hh/1016</h1>


<div class="postbox"><!-- post hh/1016 -->
<span class="postsummary" id="post_hh/1016">
<span class="author">Csaba Hoch</span>
<span class="subject">Mapping for removing trailing whitespace</span>
<span class="tags">[vim]</span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1016">&lt;hh/1016&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2010-01-02)</span>
<div class="body">
<pre class="postbody">So trivial, but so useful:

    :noremap ,&lt;space&gt; :%s/ \+$/&lt;cr&gt;
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1017 -->
<span class="postsummary" id="post_hh/1017">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1017">&lt;hh/1017&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1016">&lt;&uarr;hh/1016&gt;</a></span>
<span class="date">(2010-01-02)</span>
<div class="body">
<pre class="postbody">Is there a way in Vim to attach a hook to saving, so that trailing
whitespaces get cleaned up automatically on saving?
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1018 -->
<span class="postsummary" id="post_hh/1018">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1018">&lt;hh/1018&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1017">&lt;&uarr;hh/1017&gt;</a></span>
<span class="date">(2010-01-02)</span>
<div class="body">
<pre class="postbody">Good idea! It is easy:

    :au BufWritePre * :%s/ \+$//
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1019 -->
<span class="postsummary" id="post_hh/1019">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1019">&lt;hh/1019&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1018">&lt;&uarr;hh/1018&gt;</a></span>
<span class="date">(2010-01-02)</span>
<div class="body">
<pre class="postbody">This is better:

    :au BufWritePre * :silent! %s/ \+$//

This way we can avoid the error message when there was no trailing
whitespace to be removed.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1090 -->
<span class="postsummary" id="post_hh/1090">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1090">&lt;hh/1090&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1019">&lt;&uarr;hh/1019&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; This is better:
&gt;
&gt;     :au BufWritePre * :silent! %s/ \+$//
&gt;
&gt; This way we can avoid the error message when there was no trailing
&gt; whitespace to be removed.

</span></span>But beware! Only apply this for files where trailing whitespace is an
error. E.g. Python files. Trailing whitespace is important in some
file types, like Heap posts and MediaWiki markup. (It can be used to
include blank lines in code sections in both.)
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1091 -->
<span class="postsummary" id="post_hh/1091">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1091">&lt;hh/1091&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1090">&lt;&uarr;hh/1090&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody">We should have trailing white space in emails. It messes them up. For example:

This is a line with a trailing whitespace.
This is another line.

In my experience, Thunderbird will show the two lines as one line. I
will report back in a minute.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1092 -->
<span class="postsummary" id="post_hh/1092">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1092">&lt;hh/1092&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1091">&lt;&uarr;hh/1091&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; In my experience, Thunderbird will show the two lines as one line. I
&gt; will report back in a minute.

</span></span>GMail removed the trailing space. How about these:

One line.
Another line.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1093 -->
<span class="postsummary" id="post_hh/1093">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1093">&lt;hh/1093&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1092">&lt;&uarr;hh/1092&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody">It is shown as one line even in GMail!

So post should never have trailing whitespace.

Sphinx documents don't need them either.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1094 -->
<span class="postsummary" id="post_hh/1094">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1094">&lt;hh/1094&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1093">&lt;&uarr;hh/1093&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody">There is another concern though, which do not apply to either
Heapkeeper or any document I edit at home, but it does apply to my day
job. If I turned this automatic trailing space-remover on, it would
remove trailing whitespace from existing code, and CVS would show that
I modified those lines, which would mess up the diff.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1095 -->
<span class="postsummary" id="post_hh/1095">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1095">&lt;hh/1095&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1094">&lt;&uarr;hh/1094&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; If I turned this automatic trailing space-remover on, it would
&gt; remove trailing whitespace from existing code, and CVS would show that
&gt; I modified those lines, which would mess up the diff.

</span></span>The answer here would be to do a cleanup commit in which you remove
all the trailing whitespace in one go, if the policy/conventions
permit.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/1095 -->
</div><!-- postbox for post hh/1094 -->

<div class="postbox"><!-- post hh/1096 -->
<span class="postsummary" id="post_hh/1096">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1096">&lt;hh/1096&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1093">&lt;&uarr;hh/1093&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody">Sorry, I didn't really catch what you did here. I think it'd be wise to
do such experimentation by clearly stating what you wrote in the original
form. E.g.:

    One line.&lt;tab&gt;&lt;tab&gt;&lt;spc&gt;
    Another line.&lt;tab&gt;

This way, we could see what got swallowed, because I really don't have
a clue now.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1100 -->
<span class="postsummary" id="post_hh/1100">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1100">&lt;hh/1100&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1096">&lt;&uarr;hh/1096&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; Sorry, I didn't really catch what you did here. I think it'd be wise to
&gt; do such experimentation by clearly stating what you wrote in the original
&gt; form.

</span></span>Sorry, you are right, I wasn't wise enough :)
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/1100 -->
</div><!-- postbox for post hh/1096 -->
</div><!-- postbox for post hh/1093 -->

<div class="postbox"><!-- post hh/1098 -->
<span class="postsummary" id="post_hh/1098">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1098">&lt;hh/1098&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1092">&lt;&uarr;hh/1092&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody">On Sun, Feb 7, 2010 at 8:59 AM, Csaba Hoch &lt;csaba.hoch@gmail.com&gt; wrote:
<span class="quote"><span class="quote-2">&gt;&gt; In my experience, Thunderbird will show the two lines as one line. I
&gt;&gt; will report back in a minute.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; GMail removed the trailing space. How about these:
&gt;
&gt; One line. Another line.
&gt;

</span></span>I wrote this email from Thunderbird. It looked like this when I sent it:

One line.&lt;space&gt;
Another line.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/1098 -->
</div><!-- postbox for post hh/1092 -->

<div class="postbox"><!-- post hh/1099 -->
<span class="postsummary" id="post_hh/1099">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1016.html#post_hh/1099">&lt;hh/1099&gt;</a></span>
<span class="parent"><a href="../hh/thread_1016.html#post_hh/1091">&lt;&uarr;hh/1091&gt;</a></span>
<span class="date">(2010-02-07)</span>
<div class="body">
<pre class="postbody">On Sun, Feb 7, 2010 at 8:58 AM, Csaba Hoch &lt;csaba.hoch@gmail.com&gt; wrote:
<span class="quote"><span class="quote-1">&gt; We should have trailing white space in emails. It messes them up. For example:
&gt;
&gt; This is a line with a trailing whitespace.
&gt; This is another line.
&gt;
&gt; In my experience, Thunderbird will show the two lines as one line. I
&gt; will report back in a minute.

</span></span>I wrote this email from the web interface of GMail. It looked like
this when I pushed the "Send" button:

One line.&lt;space&gt;
Another line.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/1099 -->
</div><!-- postbox for post hh/1091 -->
</div><!-- postbox for post hh/1090 -->
</div><!-- postbox for post hh/1019 -->
</div><!-- postbox for post hh/1018 -->
</div><!-- postbox for post hh/1017 -->
</div><!-- postbox for post hh/1016 -->

  </body>
</html>
