<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Thread hh/420</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Thread hh/420</h1>


<div class="postbox"><!-- post hh/420 -->
<span class="postsummary" id="post_hh/420">
<span class="author">Attila Nagy</span>
<span class="subject">Ownership of history is a delicate matter</span>
<span class="tags">[git]</span>
<span class="index"><a href="../hh/thread_420.html#post_hh/420">&lt;hh/420&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2009-07-30)</span>
<div class="body">
<pre class="postbody">I ran across this:

<a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/ch05.html">http://www-cs-students.stanford.edu/~blynn/gitmagic/ch05.html</a>

It seems a nice document. It starts explaining Git history manipulation like
this:

    A consequence of Gitâ€™s distributed nature is that history can be edited
    easily.  But if you tamper with the past, take care: only rewrite that part
    of history which you alone possess. Just as nations forever argue over who
    committed what atrocity, if someone else has a clone whose version of
    history differs to yours, you will have trouble reconciling when your trees
    interact.

    Of course, if you control all the other trees too, then there is no problem
    since you can overwrite them.

    Some developers strongly feel history should be immutable, warts and all.
    Others feel trees should be made presentable before they are unleashed in
    public. Git accommodates both viewpoints. Like cloning, branching and
    merging, rewriting history is simply another power Git gives you. It is up
    to you to use it wisely.

My thoughts on this:
- a nice simile
- all your tree are belong to us [1]
- if one has bad thoughts about altering the purity of the past (not
  out of considering adverse effects, but simply out of knowing it to
  be a Bad Thing to Do (TM)), interest in using or developing Heapkeeper
  is to be reconsidered

However, if we choose to alter history now to sort out multiple
personality issues may have a compelling effect for the future. If we
get caught in a craving for a tidy repository, we'll sooner or later
be inclined to clean up the "motorway sections" by rebasing them. Now
we could do it. Once we have "followers" (either in the quoted or the
literal sense), we can't. By (hopefully) gaining attention with the
launch of the homepage, we, so to say, 'set up us the bomb', so we had
better 'make our time' (um, sorry; what I want to say is we should do
all our history-changing now while we control all copies of the source
tree).

`git rebase -i`, that is, interactive rebase, seems very powerful. Have you
ever used it?

[1] <a href="http://en.wikipedia.org/wiki/All_your_base_are_belong_to_us">http://en.wikipedia.org/wiki/All_your_base_are_belong_to_us</a>
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/424 -->
<span class="postsummary" id="post_hh/424">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/424">&lt;hh/424&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/420">&lt;&uarr;hh/420&gt;</a></span>
<span class="date">(2009-07-31)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; My thoughts on this:
&gt; [...]
&gt; - if one has bad thoughts about altering the purity of the past (not
&gt;  out of considering adverse effects, but simply out of knowing it to
&gt;  be a Bad Thing to Do (TM)), interest in using or developing Heapkeeper
&gt;  is to be reconsidered

</span></span>:)))))))))))

<span class="quote"><span class="quote-1">&gt; However, if we choose to alter history now to sort out multiple
&gt; personality issues may have a compelling effect for the future.

</span></span>By "personality issues", do you mean having 4 committer on the impact graph
instead of 2?

<span class="quote"><span class="quote-1">&gt; If we get caught in a craving for a tidy repository, we'll sooner or later be
&gt; inclined to clean up the "motorway sections" by rebasing them. Now we could
&gt; do it.

</span></span>It is not worth rebasing the past. Our efforts are much better spent on the
program and its documentation. The "personality issue" is a bit different,
because it will always make us look funny and a bit lame if we don't sort that
out. But I don't think that about the motorway. Watch out from now on, and
everything will be fine.

<span class="quote"><span class="quote-1">&gt; Once we have "followers" (either in the quoted or the
&gt; literal sense), we can't.

</span></span>We don't know for sure we don't have them now ;)

<span class="quote"><span class="quote-1">&gt; By (hopefully) gaining attention with the launch of the homepage, we, so to
&gt; say, 'set up us the bomb', so we had better 'make our time' (um, sorry; what
&gt; I want to say is we should do all our history-changing now while we control
&gt; all copies of the source tree).

</span></span>I'm not sure that we control in 100% what is on github. But it we do, than
changing the past before 0.3 is OK. I want to put the news about 0.3 on
freshmeat, send it to the Sphinx mailing list, tell about this to my
colleagues, etc.

<span class="quote"><span class="quote-1">&gt;
&gt; `git rebase -i`, that is, interactive rebase, seems very powerful. Have you
&gt; ever used it?

</span></span>This is awesome! (For people who don't know what this is about: [1])

[1] <a href="http://blog.madism.org/index.php/2007/09/09/138-git-awsome-ness-git-rebase-interactive-?cos=1">http://blog.madism.org/index.php/2007/09/09/138-git-awsome-ness-git-rebase-interactive-?cos=1</a>
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/426 -->
<span class="postsummary" id="post_hh/426">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/426">&lt;hh/426&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/424">&lt;&uarr;hh/424&gt;</a></span>
<span class="date">(2009-07-31)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-2">&gt;&gt; However, if we choose to alter history now to sort out multiple
&gt;&gt; personality issues may have a compelling effect for the future.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; By "personality issues", do you mean having 4 committer on the impact graph
&gt; instead of 2?

</span></span>Exactly.

<span class="quote"><span class="quote-2">&gt;&gt; If we get caught in a craving for a tidy repository, we'll sooner or later be
&gt;&gt; inclined to clean up the "motorway sections" by rebasing them. Now we could
&gt;&gt; do it.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; It is not worth rebasing the past. Our efforts are much better spent on the
&gt; program and its documentation. The "personality issue" is a bit different,
&gt; because it will always make us look funny and a bit lame if we don't sort that
&gt; out. But I don't think that about the motorway. Watch out from now on, and
&gt; everything will be fine.

</span></span>OK. Correct authors, leave motorways. I agree.

<span class="quote"><span class="quote-2">&gt;&gt; Once we have "followers" (either in the quoted or the
&gt;&gt; literal sense), we can't.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; We don't know for sure we don't have them now ;)

</span></span>Was this you? [1]

<span class="quote"><span class="quote-2">&gt;&gt; By (hopefully) gaining attention with the launch of the homepage, we, so to
&gt;&gt; say, 'set up us the bomb', so we had better 'make our time' (um, sorry; what
&gt;&gt; I want to say is we should do all our history-changing now while we control
&gt;&gt; all copies of the source tree).
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; I'm not sure that we control in 100% what is on github. But it we do, than
&gt; changing the past before 0.3 is OK. I want to put the news about 0.3 on
&gt; freshmeat, send it to the Sphinx mailing list, tell about this to my
&gt; colleagues, etc.

</span></span>Do you think we'll be ready for all that with 0.3?

I remember some official github guide on history editing. I'll go and check
that one out.

[1] <a href="http://github.com/hcs42/heapkeeper/graphs/clones">http://github.com/hcs42/heapkeeper/graphs/clones</a>
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/427 -->
<span class="postsummary" id="post_hh/427">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/427">&lt;hh/427&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/426">&lt;&uarr;hh/426&gt;</a></span>
<span class="date">(2009-07-31)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; I remember some official github guide on history editing. I'll go and check
&gt; that one out.

</span></span>This is very probably what we need:

<a href="http://github.com/guides/change-author-details-in-commit-history">http://github.com/guides/change-author-details-in-commit-history</a>
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/427 -->

<div class="postbox"><!-- post hh/430 -->
<span class="postsummary" id="post_hh/430">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/430">&lt;hh/430&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/426">&lt;&uarr;hh/426&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; Was this you? [1]

</span></span>Yes.

<span class="quote"><span class="quote-2">&gt;&gt; I'm not sure that we control in 100% what is on github. But it we do, than
&gt;&gt; changing the past before 0.3 is OK. I want to put the news about 0.3 on
&gt;&gt; freshmeat, send it to the Sphinx mailing list, tell about this to my
&gt;&gt; colleagues, etc.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Do you think we'll be ready for all that with 0.3?

</span></span>I don't want to do things like this after 0.3 is released. For me
that's like going to public.

<span class="quote"><span class="quote-1">&gt; I remember some official github guide on history editing. I'll go and check
&gt; that one out.

</span></span>Do that. I haven't found anything, except for this: [2]

I have also been playing around in a sandbox repo. In the sandbox, I
tried to rewrite the history and push the new one [3].

The conclusion is: it seems to me that we have no way of doing what we
want to do except for deleting and re-creating the heapkeeper
repository.

== Heapkeeper-tidy ==

I did exactly that with another sandbox. I pushed the repository you
sent into my second sandbox repo on github [4]. Pushing all commits of
the last 10 months was so fast that I thought something must be wrong.
But as it turns out, it worked. The impact graph contains only two
people, and everything else seems to work fine. The non-master
branches are lost, but they could have been pushed just as easily if
the tidied up repository contained them. We can also use patches to
introduce them, see in the next section.

The tags are also lost, which made me think that we should not just
put them to the same place, because that would cause the descriptions
on the download page look as ugly as they are now [5]. We could place
new commits which would only change the README and whose commit
message would say something like this:

    Heapkeeper version 0.1

    This release is a propotype.

    Features:

    - Downloading emails over IMAP.
    - Storing posts in individual files.
    - Generating threaded index page that contains all posts.

What do you say?

== Creating and applying patches ==

Then I wanted to solve my problem of having worked on files yesterday,
which were not of course in your repository tidied up. I had 5 commits
in my own repo that I wanted to introduce into the new repository. It
was surprisingly easy: I just had to create a bunch of patches in my
old repository and apply them in the new one. The patches even contain
log message and author information.

In my current heapkeeper repository:

    # Create patches for commits since origin/master:
    $ git format-patch origin/master
    0001-hklib-don-t-crash-if-nicknames-is-missing.patch
    0002-CodConv-docstrings-for-functions-and-classes.patch
    0003-heapindex.css-margin-narrowed.patch
    0004-Tutorial-Using-a-mailing-list-added.patch
    0005-Tutorial-screenshots-recreated.patch
    $ ls | grep patch
    0001-hklib-don-t-crash-if-nicknames-is-missing.patch
    0002-CodConv-docstrings-for-functions-and-classes.patch
    0003-heapindex.css-margin-narrowed.patch
    0004-Tutorial-Using-a-mailing-list-added.patch
    0005-Tutorial-screenshots-recreated.patch

In the new heapkeeper repository ($Hk is the old repo; don't bother
with the "whitespace error"):

    # Applying patch 1
    $ git am $Hk/0001-hklib-don-t-crash-if-nicknames-is-missing.patch
    Applying: hklib: don't crash if 'nicknames' is missing

    # Applying the other 4 patches
    $ git am $Hk/0002-CodConv-docstrings-for-functions-and-classes.patch \
    &gt;        $Hk/0003-heapindex.css-margin-narrowed.patch \
    &gt;        $Hk/0004-Tutorial-Using-a-mailing-list-added.patch \
    &gt;        $Hk/0005-Tutorial-screenshots-recreated.patch
    Applying: CodConv: docstrings for functions and classes
    /a/cp/hk/hk-tidy/heapkeeper-tidy/.git/rebase-apply/patch:43: trailing whitespace.

    warning: 1 line adds whitespace errors.
    Applying: heapindex.css: margin narrowed
    Applying: Tutorial: Using a mailing list added
    Applying: Tutorial: screenshots recreated

    # Pushing the new commits to github
    $ git push
    Counting objects: 35, done.
    Compressing objects: 100% (23/23), done.
    Writing objects: 100% (23/23), 340.32 KiB, done.
    Total 23 (delta 12), reused 0 (delta 0)
    To git@github.com:hcs42/sandbox2.git
       cd4c703..00525f7  master -&gt; master

== Further changes ==

- Adding tags in the way I described.
- Do you want to do something with your 'bodyparsing' and 'minimal'
  branches? Or let's just leave them for now and you can use the
  patch-technique to introduce them at any time?

[2] <a href="http://support.github.com/discussions/repos/36-rewriting-history">http://support.github.com/discussions/repos/36-rewriting-history</a>
[3] <a href="http://github.com/hcs42/sandbox/graphs/impact">http://github.com/hcs42/sandbox/graphs/impact</a>
[4] <a href="http://github.com/hcs42/sandbox2/tree/master">http://github.com/hcs42/sandbox2/tree/master</a>
[5] <a href="http://github.com/hcs42/heapkeeper/downloads">http://github.com/hcs42/heapkeeper/downloads</a>
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/433 -->
<span class="postsummary" id="post_hh/433">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/433">&lt;hh/433&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/430">&lt;&uarr;hh/430&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-3">&gt;&gt;&gt; I'm not sure that we control in 100% what is on github. But it we do, than
&gt;&gt;&gt; changing the past before 0.3 is OK. I want to put the news about 0.3 on
&gt;&gt;&gt; freshmeat, send it to the Sphinx mailing list, tell about this to my
&gt;&gt;&gt; colleagues, etc.
</span></span><span class="quote"><span class="quote-2">&gt;&gt;
&gt;&gt; Do you think we'll be ready for all that with 0.3?
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; I don't want to do things like this after 0.3 is released. For me
&gt; that's like going to public.

</span></span>My question is: once you show all those people what we have, will they
see what it is good for?

<span class="quote"><span class="quote-1">&gt; The conclusion is: it seems to me that we have no way of doing what we
&gt; want to do except for deleting and re-creating the heapkeeper
&gt; repository.

</span></span>Yes, it seems so. Not that bad solution, though. But do you think it
is a limitation of github or git? I mean, that we can't just push a
totally rewritten repository.

<span class="quote"><span class="quote-1">&gt; == Heapkeeper-tidy ==
&gt;
&gt; I did exactly that with another sandbox. I pushed the repository you
&gt; sent into my second sandbox repo on github [4]. Pushing all commits of
&gt; the last 10 months was so fast that I thought something must be wrong.
&gt; But as it turns out, it worked. The impact graph contains only two
&gt; people, and everything else seems to work fine. The non-master
&gt; branches are lost, but they could have been pushed just as easily if
&gt; the tidied up repository contained them. We can also use patches to
&gt; introduce them, see in the next section.

</span></span>Git rules :)

<span class="quote"><span class="quote-1">&gt; The tags are also lost, which made me think that we should not just
&gt; put them to the same place, because that would cause the descriptions
&gt; on the download page look as ugly as they are now [5]. We could place
&gt; new commits which would only change the README and whose commit
&gt; message would say something like this:
&gt;
&gt;    Heapkeeper version 0.1
&gt;
&gt;    This release is a propotype.
&gt;
&gt;    Features:
&gt;
&gt;    - Downloading emails over IMAP.
&gt;    - Storing posts in individual files.
&gt;    - Generating threaded index page that contains all posts.
&gt;
&gt; What do you say?

</span></span>OK. So, we'd hard-reset, edit README, commit, tag and rebase for both
0.1 and 0.2, if I understand correctly.

<span class="quote"><span class="quote-1">&gt; == Creating and applying patches ==
&gt;
&gt; Then I wanted to solve my problem of having worked on files yesterday,
&gt; which were not of course in your repository tidied up. I had 5 commits
&gt; in my own repo that I wanted to introduce into the new repository. It
&gt; was surprisingly easy: I just had to create a bunch of patches in my
&gt; old repository and apply them in the new one. The patches even contain
&gt; log message and author information.

</span></span>I guess then that these are not your average diff-patches, but
something Git-specific.

<span class="quote"><span class="quote-1">&gt; In the new heapkeeper repository ($Hk is the old repo; don't bother
&gt; with the "whitespace error"):
&gt;
&gt;    # Applying patch 1
&gt;    $ git am $Hk/0001-hklib-don-t-crash-if-nicknames-is-missing.patch
&gt;    Applying: hklib: don't crash if 'nicknames' is missing

</span></span>`git-am` means 'apply patches from mailbox'. If there is functionality
in git that suggests a particular workflow, this is it. (Some mention
git is suited for "Linux kernel-style workflow", would this be an
example? :) )

<span class="quote"><span class="quote-1">&gt; == Further changes ==
&gt;
&gt; - Adding tags in the way I described.
&gt; - Do you want to do something with your 'bodyparsing' and 'minimal'
&gt;  branches? Or let's just leave them for now and you can use the
&gt;  patch-technique to introduce them at any time?

</span></span>Do you consider them mature enough for inclusion into the "public"
repo? I think minimal is mature, and also useful. Bodyparsing is
in early stages, and very probably it'll work quite differently, so if
you say so, I'll be happy to exclude it until we take on the task more
seriously.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/435 -->
<span class="postsummary" id="post_hh/435">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/435">&lt;hh/435&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/433">&lt;&uarr;hh/433&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; My question is: once you show all those people what we have, will they
&gt; see what it is good for?

</span></span>That's a question for another thread I think.

<span class="quote"><span class="quote-2">&gt;&gt; The conclusion is: it seems to me that we have no way of doing what we
&gt;&gt; want to do except for deleting and re-creating the heapkeeper
&gt;&gt; repository.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Yes, it seems so. Not that bad solution, though. But do you think it
&gt; is a limitation of github or git? I mean, that we can't just push a
&gt; totally rewritten repository.

</span></span>I think it's git.

<span class="quote"><span class="quote-2">&gt;&gt; The tags are also lost, which made me think that we should not just
&gt;&gt; put them to the same place, because that would cause the descriptions
&gt;&gt; on the download page look as ugly as they are now [5]. We could place
&gt;&gt; new commits which would only change the README and whose commit
&gt;&gt; message would say something like this:
&gt;&gt;
&gt;&gt;    Heapkeeper version 0.1
&gt;&gt;
&gt;&gt;    This release is a propotype.
&gt;&gt;
&gt;&gt;    Features:
&gt;&gt;
&gt;&gt;    - Downloading emails over IMAP.
&gt;&gt;    - Storing posts in individual files.
&gt;&gt;    - Generating threaded index page that contains all posts.
&gt;&gt;
&gt;&gt; What do you say?
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; OK. So, we'd hard-reset, edit README, commit, tag and rebase for both
&gt; 0.1 and 0.2, if I understand correctly.

</span></span>Yes, that is what I thought, but it does not seem to work because of
the motorway.

<span class="quote"><span class="quote-2">&gt;&gt; == Creating and applying patches ==
&gt;&gt;
&gt;&gt; Then I wanted to solve my problem of having worked on files yesterday,
&gt;&gt; which were not of course in your repository tidied up. I had 5 commits
&gt;&gt; in my own repo that I wanted to introduce into the new repository. It
&gt;&gt; was surprisingly easy: I just had to create a bunch of patches in my
&gt;&gt; old repository and apply them in the new one. The patches even contain
&gt;&gt; log message and author information.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; I guess then that these are not your average diff-patches, but
&gt; something Git-specific.

</span></span>Your guess is correct.

<span class="quote"><span class="quote-2">&gt;&gt; == Further changes ==
&gt;&gt;
&gt;&gt; - Adding tags in the way I described.
&gt;&gt; - Do you want to do something with your 'bodyparsing' and 'minimal'
&gt;&gt;  branches? Or let's just leave them for now and you can use the
&gt;&gt;  patch-technique to introduce them at any time?
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Do you consider them mature enough for inclusion into the "public"
&gt; repo? I think minimal is mature, and also useful.

</span></span>Why isn't minimal merged into master?

<span class="quote"><span class="quote-1">&gt; Bodyparsing is in early stages, and very probably it'll work quite
&gt; differently, so if you say so, I'll be happy to exclude it until we
&gt; take on the task more seriously.

</span></span>OK.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/436 -->
<span class="postsummary" id="post_hh/436">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/436">&lt;hh/436&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/435">&lt;&uarr;hh/435&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-2">&gt;&gt; My question is: once you show all those people what we have, will they
&gt;&gt; see what it is good for?
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; That's a question for another thread I think.

</span></span>I'm never afraid to start a thread in another one... though it is
laborous to separate them later, especially if the two have been
running in parallel in several posts. But in another thread, then.

<span class="quote"><span class="quote-2">&gt;&gt; But do you think it
&gt;&gt; is a limitation of github or git? I mean, that we can't just push a
&gt;&gt; totally rewritten repository.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; I think it's git.

</span></span>A little bit of heartbreak over there.

<span class="quote"><span class="quote-2">&gt;&gt; So, we'd hard-reset, edit README, commit, tag and rebase for both
&gt;&gt; 0.1 and 0.2, if I understand correctly.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Yes, that is what I thought, but it does not seem to work because of
&gt; the motorway.

</span></span>Umm... both the 0.1 and 0.2 tags are on "single sections". Will that
still cause a problem with motorways coming after the tag? I think
I'll go and experiment with it.

<span class="quote"><span class="quote-3">&gt;&gt;&gt; == Further changes ==

</span></span><span class="quote"><span class="quote-1">&gt; Why isn't minimal merged into master?

</span></span>That is the middle of the Chaos of May 2009. Minimal is now at a merge
of a merge of a merge and something else and something else
(literally), and I guess I didn't dare to merge the merge back into
master. I think the best way to save the minimal branch would be to
start off from before the chaos and cherry-pick the necessary changes
to form a new minimal, then throw the old one away.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/437 -->
<span class="postsummary" id="post_hh/437">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/437">&lt;hh/437&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/436">&lt;&uarr;hh/436&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-3">&gt;&gt;&gt; So, we'd hard-reset, edit README, commit, tag and rebase for both
&gt;&gt;&gt; 0.1 and 0.2, if I understand correctly.
</span></span><span class="quote"><span class="quote-2">&gt;&gt; Yes, that is what I thought, but it does not seem to work because of
&gt;&gt; the motorway.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Umm... both the 0.1 and 0.2 tags are on "single sections". Will that
&gt; still cause a problem with motorways coming after the tag? I think
&gt; I'll go and experiment with it.

</span></span>I tried it. The problem is the rebase tries to linearize everything,
all the motorways that are present in the history back until 0.1/0.2.
There are also merge conflicts: usually those that conflicted for us
back then, but it seems that there are other conflicts as well, which
are not automatically resolved now. (Maybe git rebase uses a different
merge algorithm than git merge uses by default?) It would be a few
hours I think to do that: it would mean linearizing all our history.

We have three options:
1. Do the linearization.
2. Try another mechanism, e.g. git filter.
3. Put back v0.1 and v0.2 tags as they were and do work that actually
   matters :)
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/438 -->
<span class="postsummary" id="post_hh/438">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/438">&lt;hh/438&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/437">&lt;&uarr;hh/437&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; We have three options:
&gt; 1. Do the linearization.
&gt; 2. Try another mechanism, e.g. git filter.
&gt; 3. Put back v0.1 and v0.2 tags as they were and do work that actually
&gt; Â  matters :)

</span></span>Option 3 is of course attractive, but learning Git is fun _and_
matters, so I think I'll try and read about rebasing with preserving
loops.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/449 -->
<span class="postsummary" id="post_hh/449">
<span class="author">Csaba Hoch</span>
<span class="subject">Rewriting history affects our posts</span>
<span class="index"><a href="../hh/thread_420.html#post_hh/449">&lt;hh/449&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/438">&lt;&uarr;hh/438&gt;</a></span>
<span class="date">(2009-08-01)</span>
<div class="body">
<pre class="postbody">I have just realized something. If we rewrite the git history, all our
posts in which we discuss a commit should be rewritten, since all SHA
id-s would be changed.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/451 -->
<span class="postsummary" id="post_hh/451">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_420.html#post_hh/451">&lt;hh/451&gt;</a></span>
<span class="parent"><a href="../hh/thread_420.html#post_hh/449">&lt;&uarr;hh/449&gt;</a></span>
<span class="date">(2009-08-02)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; I have just realized something. If we rewrite the git history, all our
&gt; posts in which we discuss a commit should be rewritten, since all SHA
&gt; id-s would be changed.

</span></span>Yes, it can be a problem.

This search:

    egrep -l "commit.*[0-9a-f]{4,}"

turns up 40 posts. If that's all, we can handle that.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/451 -->
</div><!-- postbox for post hh/449 -->
</div><!-- postbox for post hh/438 -->
</div><!-- postbox for post hh/437 -->
</div><!-- postbox for post hh/436 -->
</div><!-- postbox for post hh/435 -->
</div><!-- postbox for post hh/433 -->
</div><!-- postbox for post hh/430 -->
</div><!-- postbox for post hh/426 -->
</div><!-- postbox for post hh/424 -->
</div><!-- postbox for post hh/420 -->

  </body>
</html>
