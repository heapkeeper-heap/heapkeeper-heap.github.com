<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Speeding up downloads by deleting posts from IMAP</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
    <link rel="shortcut icon" href="../static/images/heap.png">
  </head>
  <body >
    <h1 id="header">Speeding up downloads by deleting posts from IMAP</h1>


<div class="post-box"><!-- post hh/1220 -->
<div class="post-summary" id="post-summary-hh-1220">
<span class="author">Attila Nagy</span>
<span class="subject">Speeding up downloads by deleting posts from IMAP</span>
<span class="tags">[idea, reviewed]</span>
<span class="index"><a href="../hh/thread_1220.html#post-summary-hh-1220">&lt;hh/1220&gt;</a></span>
<span class="date">(2010-05-08)</span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content">If only one Hk installation is used to download from a given IMAP
account, we could just as well delete posts from the IMAP as soon as
they are downloaded.

To avoid losing posts due to any kind of error between downloading and
saving, we should do a `dl()` like this:
- check new messages,
- compile list of new messages,
- download new messages,
- generate new posts,
- save post database,
- remove the newly downloaded messages.

As an alternative, we could do what Gmail calls "archiving" the
messages: move them to a different mail directory, e.g. "Downloaded"
or "Archived". This way, downloading would remain quick even for
high-volume lists.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/1220 -->

  </body>
</html>
