<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Outdated data in thread summary</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Outdated data in thread summary</h1>


<div class="postbox"><!-- post hh/204 -->
<span class="postsummary" id="post_hh/204">
<span class="author">Attila Nagy</span>
<span class="subject">Outdated data in thread summary</span>
<span class="index"><a href="../hh/thread_204.html#post_hh/204">&lt;hh/204&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2009-05-10)</span>
<div class="body">
<pre class="postbody">There is a minor glitch. Not even sure if it's a bug.

If you edit a post, it gets outdated, and will be regenerated. But if
its headers are altered, and the thread representation in post HTMLs
is turned on (in the hkrc), the representation of the changed post
will not be updated in other posts of the thread.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/207 -->
<span class="postsummary" id="post_hh/207">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_204.html#post_hh/207">&lt;hh/207&gt;</a></span>
<span class="parent"><a href="../hh/thread_204.html#post_hh/204">&lt;&uarr;hh/204&gt;</a></span>
<span class="date">(2009-05-10)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; There is a minor glitch. Not even sure if it's a bug.
&gt;
&gt; If you edit a post, it gets outdated, and will be regenerated. But if
&gt; its headers are altered, and the thread representation in post HTMLs
&gt; is turned on (in the hkrc), the representation of the changed post
&gt; will not be updated in other posts of the thread.

</span></span>I haven't realized this problem. Fortunately it is easy to solve.

E.g. fixing hkrc_csabahoch.gen_posts:

     def gen_posts(postdb, posts):
         date_options = hkcustomlib.date_defopts({'postdb': postdb})
         date_fun = hkcustomlib.create_date_fun(date_options)
         genopts = hklib.GeneratorOptions()
         genopts.postdb = postdb
         genopts.date_fun = date_fun
         genopts.print_thread_of_post = True
  -      hklib.Generator(postdb).gen_posts(genopts, posts)
  +      hklib.Generator(postdb).gen_posts(genopts, posts.exp())
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/208 -->
<span class="postsummary" id="post_hh/208">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_204.html#post_hh/208">&lt;hh/208&gt;</a></span>
<span class="parent"><a href="../hh/thread_204.html#post_hh/207">&lt;&uarr;hh/207&gt;</a></span>
<span class="date">(2009-05-10)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt;  -      hklib.Generator(postdb).gen_posts(genopts, posts)
&gt;  +      hklib.Generator(postdb).gen_posts(genopts, posts.exp())

</span></span>Brilliant! I've been thinking about it for a while...
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/208 -->
</div><!-- postbox for post hh/207 -->
</div><!-- postbox for post hh/204 -->

  </body>
</html>
