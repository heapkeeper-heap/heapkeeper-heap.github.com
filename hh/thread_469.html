<!-- Generated by Heapkeeper v0.4 on 2010-04-10 13:44:41 -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Thread hh/469</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Thread hh/469</h1>


<div class="postbox"><!-- post hh/469 -->
<span class="postsummary" id="post_hh/469">
<span class="author">Csaba Hoch</span>
<span class="subject">Testing on Windows</span>
<span class="tags">[hk0.3]</span>
<span class="index"><a href="../hh/thread_469.html#post_hh/469">&lt;hh/469&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2009-08-02)</span>
<div class="body">
<pre class="postbody">I tried out Heapkeeper on Windows.

Experiences:

- We should allow customizing the editor for `enew` and other commands
more easily, so that the follower of the tutorial can perform them
right at the beginning. Firstly, the followers on Windows probably
don't want to use gvim, and secondly, it does not work for some reason
[1]. The easier and the most conventional way is I guess to use the
EDITOR environment variable by default. We may even default to notepad
on Windows and vi to other systems if the environment variable is
empty, so it will "just work" for the majority of the readers. We
should mention setting EDITOR in the tutorial.

- My default Python installation was that of cygwin. It had problems
with e.g. the `enew` command. enew generates a temporary file and
opens it with an editor. The temporary file created by the
cygwin-Python was called
/cygdrive/c/DOCUME~1/hcs/LOCALS~1/Temp/tmp2wUHhc, and notepad was of
course unable to open this file with this path.

- We have CRLF issues. It needs more discussion than the previous
topics, so I will open another thread for it.

- Heapkeeper works if you just click on hk.py, which is actually nice.
We should mention this in the tutorial, too.

- This is not a Windows problem but it came out when testing Hk on
Windows. If the timezone is different from CEST, the automatic test
for hkshell.ls fails [2]. We should make the localtime function used
by Post.date_str customizable and use GMT as localtime in the tests.
That's how I did it in the hkcustomlib module, so it's not difficult.

[1] Neither os.system('gvim') nor os.system('gvim -f') works in Python
on Windows. os.system('vim') and os.system('notepad') do.
[2] I haven't set the timezone back since I left England. That's how
often I use Windows...
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/476 -->
<span class="postsummary" id="post_hh/476">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_469.html#post_hh/476">&lt;hh/476&gt;</a></span>
<span class="parent"><a href="../hh/thread_469.html#post_hh/469">&lt;&uarr;hh/469&gt;</a></span>
<span class="date">(2009-08-04)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; - We should allow customizing the editor for `enew` and other commands
&gt; more easily, so that the follower of the tutorial can perform them
&gt; right at the beginning. Firstly, the followers on Windows probably
&gt; don't want to use gvim, and secondly, it does not work for some reason
&gt; [1]. The easier and the most conventional way is I guess to use the
&gt; EDITOR environment variable by default. We may even default to notepad
&gt; on Windows and vi to other systems if the environment variable is
&gt; empty, so it will "just work" for the majority of the readers. We
&gt; should mention setting EDITOR in the tutorial.

</span></span>Done.

<span class="quote"><span class="quote-1">&gt; - We have CRLF issues. It needs more discussion than the previous
&gt; topics, so I will open another thread for it.

</span></span>Done.

<span class="quote"><span class="quote-1">&gt; - This is not a Windows problem but it came out when testing Hk on
&gt; Windows. If the timezone is different from CEST, the automatic test
&gt; for hkshell.ls fails [2]. We should make the localtime function used
&gt; by Post.date_str customizable and use GMT as localtime in the tests.
&gt; That's how I did it in the hkcustomlib module, so it's not difficult.

</span></span>Done.

I haven't pushed the fixes; I haven't tested them on Windows.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/479 -->
<span class="postsummary" id="post_hh/479">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_469.html#post_hh/479">&lt;hh/479&gt;</a></span>
<span class="parent"><a href="../hh/thread_469.html#post_hh/476">&lt;&uarr;hh/476&gt;</a></span>
<span class="date">(2009-08-05)</span>
<div class="body">
<pre class="postbody">Everything is pushed.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/479 -->
</div><!-- postbox for post hh/476 -->

<div class="postbox"><!-- post hh/667 -->
<span class="postsummary" id="post_hh/667">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_469.html#post_hh/667">&lt;hh/667&gt;</a></span>
<span class="parent"><a href="../hh/thread_469.html#post_hh/469">&lt;&uarr;hh/469&gt;</a></span>
<span class="date">(2009-10-16)</span>
<div class="body">
<pre class="postbody">How about making it a rule to always do a test on Windows before
releasing a version?
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/668 -->
<span class="postsummary" id="post_hh/668">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_469.html#post_hh/668">&lt;hh/668&gt;</a></span>
<span class="parent"><a href="../hh/thread_469.html#post_hh/667">&lt;&uarr;hh/667&gt;</a></span>
<span class="date">(2009-10-16)</span>
<div class="body">
<pre class="postbody"><span class="meta-text">[open]</span>

<span class="quote"><span class="quote-1">&gt; How about making it a rule to always do a test on Windows before
&gt; releasing a version?

</span></span>Good idea! The question is what is "doing a test".

As for 0.3, I executed the automatic test and tried out enew() before
the release, but that was all.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/670 -->
<span class="postsummary" id="post_hh/670">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_469.html#post_hh/670">&lt;hh/670&gt;</a></span>
<span class="parent"><a href="../hh/thread_469.html#post_hh/668">&lt;&uarr;hh/668&gt;</a></span>
<span class="date">(2009-10-16)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; [open]
&gt;
</span></span><span class="quote"><span class="quote-2">&gt;&gt; How about making it a rule to always do a test on Windows before
&gt;&gt; releasing a version?
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Good idea! The question is what is "doing a test".
&gt;
&gt; As for 0.3, I executed the automatic test and tried out enew() before
&gt; the release, but that was all.

</span></span>I guess the test suite has good coverage except for IMAP, so I think a
dl() should also be tested on Windows before release.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/670 -->
</div><!-- postbox for post hh/668 -->
</div><!-- postbox for post hh/667 -->
</div><!-- postbox for post hh/469 -->

  </body>
</html>
