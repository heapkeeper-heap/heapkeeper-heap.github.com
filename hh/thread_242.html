<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Heapkeeper version 0.3</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
  </head>
  <body >
    <h1 id="header">Heapkeeper version 0.3</h1>


<div class="post-box"><!-- post hh/242 -->
<div class="post-summary" id="post-summary-hh-242">
<span class="author">Csaba Hoch</span>
<span class="subject">Heapkeeper version 0.3</span>
<span class="tags">[prop, reviewed]</span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-242">&lt;hh/242&gt;</a></span>
<span class="date">(2009-05-18)</span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-414">hh/414</a>,&nbsp;<a href="../hh/thread_242.html#post-summary-hh-537">hh/537</a></span>
<pre class="post-body-content">== Current status ===

What do you say to having a new release in a few weeks? Our last
release was in 2009-02-17. We have implemented many improvements since
then:

- options pattern: GeneratorOptions, Section, Index, etc.
- customization possibilities, creating hkcustomlib
- hkshell: features (or settings), event handling, better handling of
  arguments
- thread printing
- a lot of documentation, homepage
- a lot of tests
- Grand Renaming 1; most importantly, the name of the program has been
  changed to Heapkeeper
- adapting GPLv3

(BTW, I was struck by how many of the current functionality we had
back then. What we improved is mainly customizability, testability,
usability, documentation, and administrative things like license,
homepage, and new names for things.)

== Heapkeeper 0.3 ===

Heapkeeper 0.3 should contain the following things besides the
improvements we currently have:
- tutorial on Heapkeeper
- screenshots
- automatic copying of heapindex.css next to the HTML files
- enew(heapid) command to create and edit a new post: this way the
  tutorial can be performed without having real emails as posts
- renaming In-Reply-To field to Parent in post files [1]

I would like to do the first two, but it is also OK if I will do the
other ones.

== Later versions ==

What about later versions? I'll write down a few things that is in my
mind about them. Most of them are described in the Todo.

These are not promises by any means, just plans about what we would
like to do.

=== Version 0.4 (summer?) ===

- references
  - "Reference" attributes in posts and post files
  - commands that help splitting a post with keeping the old parent as a
    reference
- customization
  - handling [open]/[close], [todo] specially
  - custom post summary
  - more comprehensive setting system (described in [2])
- body parsing
- support for using several heaps at the same time [3]
- solving every problems that make it more difficult for anybody to
  collaborate with us
  - setting up the public heap/public mailing list
  - docs on setting up the development environment
    - git tutorial links
    - how to download, install and use Sphinx
  - getting a better domain (<a href="http://www.heapkeeper.org">http://www.heapkeeper.org</a>) and a better
    host than uw
  - not vital, but we should have logo by this time...

I have collected many things into 0.4. Maybe it will be divided into
two versions instead, we will see. I can't prioritize between these
items now.

=== Version 0.5 (end of summer, autumn?) ===

- controlled execution of meta text (like [!delpost])
- handling wiki-headers in posts
- new tag/flag system
- PostSetGrepDelegate (see Todo for more info)

=== Things we should do continuously ===

- code cleanup (e.g. using classes instead of dictionaries in
  hkcustomlib)
- documentation (user documentation, developer documentation,
  docstrings)
- play around with the web stuff (Google App Engine, Django, whatever)

== Distribution ==

I think we should have a download page on the Heapkeeper homepage [4].
There is a download page on github [5], but our download page should
contain more information, for example new features. (We could describe
those in the commit message, but I want to have the right to change it
later.) We could also distribute the corresponding HTML documentation
in a zip file.

[1] <a href="../hh/thread_241.html#post-summary-hh-241">heap://hh/241</a>
[2] <a href="../hh/thread_235.html#post-summary-hh-235">heap://hh/235</a>
[3] <a href="../hh/thread_240.html#post-summary-hh-240">heap://hh/240</a>
[4] <a href="http://heapkeeper.org">http://heapkeeper.org</a> (this did not exist at the time when this
    post was originally written)
[5] <a href="http://github.com/hcs42/heapkeeper/downloads">http://github.com/hcs42/heapkeeper/downloads</a>
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/414 -->
<div class="post-summary" id="post-summary-hh-414">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-414">&lt;hh/414&gt;</a></span>
<span class="date">(2009-07-25)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-242">hh/242</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-415">hh/415</a>,&nbsp;<a href="../hh/thread_242.html#post-summary-hh-474">hh/474</a></span>
<pre class="post-body-content">I think we are almost ready to release 0.3.

Things that still have to be done:
- tutorial: using a GoogleGroups+IMAP heap
- better screenshots
- try it out on Windows
- try it out with Python 2.5

Do you agree that we can release after doing these?

Things should be done soon after the release:
- register to freshmeat
- write to Sphinx that we use Sphinx
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/415 -->
<div class="post-summary" id="post-summary-hh-415">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-415">&lt;hh/415&gt;</a></span>
<span class="date">(2009-07-25)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-414">hh/414</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-416">hh/416</a></span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; Things that still have to be done:
&gt; - tutorial: using a GoogleGroups+IMAP heap
&gt; - better screenshots
&gt; - try it out on Windows
&gt; - try it out with Python 2.5
&gt;
&gt; Do you agree that we can release after doing these?
</span></span>
Yes, but one step less. On my laptop, I use Python 2.5.2.

<span class="raw-block">    $ python --version
    Python 2.5.2
</span>
It works perfectly.

<span class="quote"><span class="quote-1">&gt; Things should be done soon after the release:
&gt; - register to freshmeat
&gt; - write to Sphinx that we use Sphinx
</span></span>
OK.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/416 -->
<div class="post-summary" id="post-summary-hh-416">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-416">&lt;hh/416&gt;</a></span>
<span class="date">(2009-07-25)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-415">hh/415</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; Yes, but one step less. On my laptop, I use Python 2.5.2.
&gt;
</span></span><span class="quote"><span class="quote-1"><span class="raw-block">&gt;    $ python --version
&gt;    Python 2.5.2
</span></span></span><span class="quote"><span class="quote-1">&gt;
&gt; It works perfectly.
</span></span>
Great, thanks.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/416 -->
</div><!-- postbox for post hh/415 -->

<div class="post-box"><!-- post hh/474 -->
<div class="post-summary" id="post-summary-hh-474">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-474">&lt;hh/474&gt;</a></span>
<span class="date">(2009-08-04)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-414">hh/414</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-475">hh/475</a></span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; I think we are almost ready to release 0.3.
&gt;
&gt; Things that still have to be done:
&gt; - tutorial: using a GoogleGroups+IMAP heap
</span></span>
Done.

<span class="quote"><span class="quote-1">&gt; - better screenshots
</span></span>
Done.

<span class="quote"><span class="quote-1">&gt; - try it out on Windows
</span></span>
Done.

<span class="quote"><span class="quote-1">&gt; - try it out with Python 2.5
</span></span>
Done.

Current todo items:
- items in posts "Testing on Windows" and "CRLF issues" //Csabi
- rewriting git history //Attis
- recreating the heapkeeper repo and pushing the new history //Csabi
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/475 -->
<div class="post-summary" id="post-summary-hh-475">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-475">&lt;hh/475&gt;</a></span>
<span class="date">(2009-08-04)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-474">hh/474</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-477">hh/477</a></span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; - rewriting git history //Attis
</span></span>
Almost there. I think I can do it this afternoon.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/477 -->
<div class="post-summary" id="post-summary-hh-477">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-477">&lt;hh/477&gt;</a></span>
<span class="date">(2009-08-04)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-475">hh/475</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-478">hh/478</a></span>
<pre class="post-body-content">Almost did it... the problem was that the commit tagged as v0.2 is a
commit where two branches diverge. Before rebasing on top of it, I
reset the repository to this point, and added a new commit in which I
updated the README file. This was an error: only one branch became a
child of this new commit, the other branch retained its 0.1 version
until its merging. This, for some reason, makes the chaotic part look
even more chaotic. So, after cleaning up, the repo seems to be a big
mess, which is not what we want.

A more elegant solution would have been to amend that commit with the
README edit instead of adding a new one. Or manually rebasing that one
loop which causes the problem. But this will have to wait until
tomorrow.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/478 -->
<div class="post-summary" id="post-summary-hh-478">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-478">&lt;hh/478&gt;</a></span>
<span class="date">(2009-08-05)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-477">hh/477</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-483">hh/483</a></span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; Almost did it... the problem was that the commit tagged as v0.2 is a
&gt; commit where two branches diverge.
</span></span>
Cannot you do the following:
- go back go the v0.2 tagged commit
- do a soft reset to HEAD^, so that all modified files are in the index
- modify README
- commit everything BUT README with the old commit message
  (git commit &lt;filename1&gt; &lt;filename2&gt; ...)
- commit README with the commit message that describes the changes
- put the branching that you said to cause problems on the top of this

I'm not sure how to do the "put branching on the top of" something,
but if we cannot do that, the whole history-rewriting sucks, I guess.

== Commit messages ==

BTW, I realized that we did not agree on what commit message should
these tagged commits have. I propose that they should have these:

<span class="raw-block">    ------------------------------------------------------------
    Heapkeeper v0.1 released.

    This release is a propotype.

    Features:

    - Downloading emails over IMAP.
    - Storing posts in individual files.
    - Generating threaded index page that contains all posts.
    ------------------------------------------------------------

    ------------------------------------------------------------
    Heapkeeper v0.2 released.

    This release contains many new features, but lacks comprehensive documentation.

    Major new features:

    - Generating XHTML index page. The index pages may contain several sections.
    - Generating (XHTML) post pages.
    - Using CSS.
    - Deleting posts.
    - Nicknames.
    - Using ini files as configuration files.
    - :class:`hklib.PostSet` class added. It allows writing efficient queries about
      the post database easily.
    - Dates are displayed in a convenient format.
    - Posts may have tags.
    - Handling cycles in the thread structure.
    - New command line interface: :mod:`hkshell`.

    Other major improvements:

    - Adding some unit tests.
    ------------------------------------------------------------
</span>
These are exactly the same texts that you find in download/doc.rst.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/483 -->
<div class="post-summary" id="post-summary-hh-483">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-483">&lt;hh/483&gt;</a></span>
<span class="date">(2009-08-06)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-478">hh/478</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; BTW, I realized that we did not agree on what commit message should
&gt; these tagged commits have. I propose that they should have these:
</span></span>
I accept these, but I think the project's history should preserve the
project's name as it was at the time. Both v0.1 and v0.2 were releases
of Heapmanipulator, which became Heapkeeper only between v0.2 and
v0.3.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/483 -->
</div><!-- postbox for post hh/478 -->
</div><!-- postbox for post hh/477 -->
</div><!-- postbox for post hh/475 -->
</div><!-- postbox for post hh/474 -->
</div><!-- postbox for post hh/414 -->

<div class="post-box"><!-- post hh/537 -->
<div class="post-summary" id="post-summary-hh-537">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-537">&lt;hh/537&gt;</a></span>
<span class="date">(2009-08-23)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-242">hh/242</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-560">hh/560</a>,&nbsp;<a href="../hh/thread_242.html#post-summary-hh-564">hh/564</a></span>
<pre class="post-body-content">What do you say to having a 0.3 release soon, without announcing it
anywhere? I would not include fastdownload and my current ls
improvement. Neither would it have my current work (custom post
summary), nor multiple heaps. We would have it just so that we can
have a milestone, and if people read the project homepage after
releasing 0.4, they will see how we progressed in a more fine grained
scale. They will see that we made a new release in every couple of
months.

So I propose releasing my current master branch.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/560 -->
<div class="post-summary" id="post-summary-hh-560">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="tags">[+discussion]</span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-560">&lt;hh/560&gt;</a></span>
<span class="date">(2009-08-30)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-537">hh/537</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-561">hh/561</a></span>
<pre class="post-body-content"><span class="quote"><span class="quote-1">&gt; I would not include fastdownload and my current ls improvement.
&gt; Neither would it have my current work (custom post summary), nor
&gt; multiple heaps. We would have it just so that we can have a
&gt; milestone, and if people read the project homepage after releasing
&gt; 0.4, they will see how we progressed in a more fine grained scale.
</span></span>
Why do you think it's too early to go public?
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/561 -->
<div class="post-summary" id="post-summary-hh-561">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-561">&lt;hh/561&gt;</a></span>
<span class="date">(2009-08-30)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-560">hh/560</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-562">hh/562</a></span>
<pre class="post-body-content">You said we should go public only when our workflow is stable. It is
definitely not stable yet.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/562 -->
<div class="post-summary" id="post-summary-hh-562">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-562">&lt;hh/562&gt;</a></span>
<span class="date">(2009-08-30)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-561">hh/561</a></span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-563">hh/563</a></span>
<pre class="post-body-content">Good point.

But I have faith in what we are trying to do. It gives me a sense of
"officiality" or "seriousness" about the project, which is good, as it
leads to cleaner code and, hopefully, more pure design. But I still
have concerns that it might slow things down.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/563 -->
<div class="post-summary" id="post-summary-hh-563">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-563">&lt;hh/563&gt;</a></span>
<span class="date">(2009-08-31)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-562">hh/562</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content"><span class="quote"><span class="quote-2">&gt; &gt; You said we should go public only when our workflow is stable. It is
&gt; &gt; definitely not stable yet.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Good point.
&gt;
&gt; But I have faith in what we are trying to do.
</span></span>
What exactly do you mean by "what we are trying to do"? You should
consider stating your opinion about the proposal in the (currently)
last email of the "Workflow with separate repositories" thread.
Without that, I don't even know if we agree on the workflow.

<span class="quote"><span class="quote-1">&gt; It gives me a sense of "officiality" or "seriousness" about the
&gt; project, which is good, as it leads to cleaner code and, hopefully,
&gt; more pure design. But I still have concerns that it might slow
&gt; things down.
</span></span>
It does slows things down in the short run -- just as rst
documentation, docstrings, tests, emailing about ideas... But in the
medium/long run, they are all very useful.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/563 -->
</div><!-- postbox for post hh/562 -->
</div><!-- postbox for post hh/561 -->
</div><!-- postbox for post hh/560 -->

<div class="post-box"><!-- post hh/564 -->
<div class="post-summary" id="post-summary-hh-564">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_242.html#post-summary-hh-564">&lt;hh/564&gt;</a></span>
<span class="date">(2009-08-31)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_242.html#post-summary-hh-537">hh/537</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content"><span class="meta-text">[close]</span>

Later we agreed to release 0.3. We talk about the release process is
another thread [1].

[1] <a href="../hh/thread_606.html#post-summary-hh-606">heap://606</a>
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/564 -->
</div><!-- postbox for post hh/537 -->
</div><!-- postbox for post hh/242 -->

  </body>
</html>
