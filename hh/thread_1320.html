<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Missing semicolon in JS</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
  </head>
  <body >
    <h1 id="header">Missing semicolon in JS</h1>


<div class="post-box"><!-- post hh/1320 -->
<div class="post-summary" id="post-summary-hh-1320">
<span class="author">Attila Nagy</span>
<span class="subject">Missing semicolon in JS</span>
<span class="tags">[bug, idea]</span>
<span class="index"><a href="../hh/thread_1320.html#post-summary-hh-1320">&lt;hh/1320&gt;</a></span>
<span class="date">(2010-07-25)</span>
<span class="container-button post-summary-button">Children: <a href="../hh/thread_1320.html#post-summary-hh-1321">hh/1321</a></span>
<pre class="post-body-content">In hkweb.js, the body of editPost() contains these lines:

<span class="raw-block">        var postBodyContentNode = $('.post-body-content', postBodyContainer);

        editState[postId] = mode

        // Replacing the post-body-content box with a textarea
        postBodyContentNode.after(
</span>
There is a missing semicolon at the end of the 3rd line. No error
messages are on the JS console in Chromium, and the code works
perfectly. This is strange: any other C-like language I know would
complain. (PHP is especially nasty, it would show an especially
meaningless error message.)

It seems JS is not so picky on the semicolons, but we should take
care, as it may lead to obscure problems later.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/1321 -->
<div class="post-summary" id="post-summary-hh-1321">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1320.html#post-summary-hh-1321">&lt;hh/1321&gt;</a></span>
<span class="date">(2010-07-25)</span>
<span class="container-button post-summary-button">Parent: <a href="../hh/thread_1320.html#post-summary-hh-1320">hh/1320</a></span>
<span class="container-button post-summary-button">Children: <a href="../hh/thread_1320.html#post-summary-hh-1322">hh/1322</a></span>
<pre class="post-body-content">I fixed it now in commit 4a9163cf2d. I found also 4 other cases.

This Stack Overflow question [1] explains why JavaScript does work
sometimes without a semicolon, and it is not nice. So let's always use
them when we would use them in other languages with C-like syntax.

[1] <a href="http://stackoverflow.com/questions/444080/do-you-recommend-using-semicolons-after-every-statement-in-javascript">http://stackoverflow.com/questions/444080/do-you-recommend-using-semicolons-after-every-statement-in-javascript</a>
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/1322 -->
<div class="post-summary" id="post-summary-hh-1322">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1320.html#post-summary-hh-1322">&lt;hh/1322&gt;</a></span>
<span class="date">(2010-07-25)</span>
<span class="container-button post-summary-button">Parent: <a href="../hh/thread_1320.html#post-summary-hh-1321">hh/1321</a></span>
<span class="container-button post-summary-button">Children: -</span>
<pre class="post-body-content"><span class="meta-text">[todo "3 other cases", not 4]</span>
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/1322 -->
</div><!-- postbox for post hh/1321 -->
</div><!-- postbox for post hh/1320 -->

  </body>
</html>
