<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Including web.py in Heapkeeper as a submodule</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
  </head>
  <body >
    <h1 id="header">Including web.py in Heapkeeper as a submodule</h1>


<div class="post-box"><!-- post hh/1438 -->
<div class="post-summary" id="post-summary-hh-1438">
<span class="author">Csaba Hoch</span>
<span class="subject">Including web.py in Heapkeeper as a submodule</span>
<span class="tags">[issue]</span>
<span class="index"><a href="../hh/thread_1438.html#post-summary-hh-1438">&lt;hh/1438&gt;</a></span>
<span class="date">(2010-11-19)</span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content">In thread <a href="../hh/thread_1007.html#post-summary-hh-1007">heap://hh/1007</a>, we discussed whether to add web.py to the
Heapkeeper repository. I said the following:

<span class="raw-block">    We have two choices:
    - add web.py to the Heapkeeper repository
    - describe how to get web.py and where should the user put it
</span>
You said you preferred the first option, and I said I preferred the
second one.

For the automatic tests, I needed to monkey-patch hkweb, which is I
think a bad practice in this case, especially considering that we are
not sure what web.py version the user has. So instead we should modify
and ship web.py, which means that we have to refine/modify our current
approach.

I have realized that we have a third option besides the ones mentioned
above: we can fork the web.py GitHub repository, patch it, and use the
patched version in Heapkeeper. We could apply (almost) the same
commits for all web.py releases. Heapkeeper developers had to clone
our web.py git repository and use that. Users just had to download the
zip file as always, which would include web.py.

We could use the "git submodules" command [1][2] to keep the two
repositories in sync. The web.py repo would be a submodule of the
Heapkeeper repo; I propose placing the former one in the
external/webpy subdirectory.

What do you say?

[1] <a href="http://book.git-scm.com/5_submodules.html">http://book.git-scm.com/5_submodules.html</a>
[2] <a href="http://www.kernel.org/pub/software/scm/git/docs/git-submodule.html">http://www.kernel.org/pub/software/scm/git/docs/git-submodule.html</a>
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/1438 -->

  </body>
</html>
