<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Touching deleted posts</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
  </head>
  <body >
    <h1 id="header">Touching deleted posts</h1>


<div class="post-box"><!-- post hh/926 -->
<div class="post-summary" id="post-summary-hh-926">
<span class="author">Csaba Hoch</span>
<span class="subject">Touching deleted posts</span>
<span class="tags">[bug, reviewed]</span>
<span class="index"><a href="../hh/thread_926.html#post-summary-hh-926">&lt;hh/926&gt;</a></span>
<span class="date">(2009-11-14)</span>
<span class="container-button post-summary-button">Children: <a href="../hh/thread_926.html#post-summary-hh-933">hh/933</a></span>
<pre class="post-body-content">When a post is deleted (and also touched by the delete method), the
new Generator won't realize that is changed, because it examines only
the non-deleted posts. Therefore it does not regenerate a thread page
when a post is deleted from it.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/933 -->
<div class="post-summary" id="post-summary-hh-933">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_926.html#post-summary-hh-933">&lt;hh/933&gt;</a></span>
<span class="date">(2009-11-15)</span>
<span class="container-button post-summary-button">Parent: <a href="../hh/thread_926.html#post-summary-hh-926">hh/926</a></span>
<span class="container-button post-summary-button">Children: <a href="../hh/thread_926.html#post-summary-hh-1056">hh/1056</a></span>
<pre class="post-body-content">Workaround in hkshell:

<span class="raw-block">    &gt;&gt;&gt; p(&lt;root&gt;).touch()
    &gt;&gt;&gt; gi()
</span>
&lt;root&gt; is a pre post, e.g. the heapid.

This will regenerate the thread page.
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/1056 -->
<div class="post-summary" id="post-summary-hh-1056">
<span class="author">Attila Nagy</span>
<span class="subject">Touching deleted posts: removing</span>
<span class="index"><a href="../hh/thread_926.html#post-summary-hh-1056">&lt;hh/1056&gt;</a></span>
<span class="date">(2010-01-28)</span>
<span class="container-button post-summary-button">Parent: <a href="../hh/thread_926.html#post-summary-hh-933">hh/933</a></span>
<span class="container-button post-summary-button">Children: <a href="../hh/thread_926.html#post-summary-hh-1067">hh/1067</a></span>
<pre class="post-body-content"><span class="meta-text">[open]</span>

There is another, related issue: if the last post of a thread is deleted,
the thread page is not eliminated. I think it should be deleted.

Do you agree?
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/1067 -->
<div class="post-summary" id="post-summary-hh-1067">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_926.html#post-summary-hh-1067">&lt;hh/1067&gt;</a></span>
<span class="date">(2010-01-29)</span>
<span class="container-button post-summary-button">Parent: <a href="../hh/thread_926.html#post-summary-hh-1056">hh/1056</a></span>
<span class="container-button post-summary-button">Children: -</span>
<pre class="post-body-content">Yes.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/1067 -->
</div><!-- postbox for post hh/1056 -->
</div><!-- postbox for post hh/933 -->
</div><!-- postbox for post hh/926 -->

  </body>
</html>
