<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Workflow with separate repositories: example</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Workflow with separate repositories: example</h1>


<div class="postbox"><!-- post hh/566 -->
<span class="postsummary" id="post_hh/566">
<span class="author">Attila Nagy</span>
<span class="subject">Workflow with separate repositories: example</span>
<span class="index"><a href="../hh/thread_566.html#post_hh/566">&lt;hh/566&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2009-09-01)</span>
<div class="body">
<pre class="postbody">I'll use your "_e" branch as an example to see if I have understood
the workflow correctly. It'll be a bit detailed, but I hope it can be
understood easily.

1. You've pushed this to "hcs42/heapkeeper_" [1], and mailed me a
request to check this branch.

2. Since I have added this repo as the remote called "hcs" to my local
repo, I can say `git fetch hcs`, and I'll see the "_e" branch as
"remotes/hcs/_e".

3. Now I can view your commits and comment on them.

4. If you think my comments are worthy, you alter the history of your
"_e", and push again, then mail me a warning that "_e" has been
rewritten according to my suggestions and I should check it again.

5. Now I can reflect my approval by creating a "_e" branch in my
local, moving it to "remotes/hcs/_e", and pushing, thus creating
"remotes/origin/_e".

(If I do not approve, steps 3-4. can be repeated)

6. You see this at your next fetch, and feel that the feature added in
"_e" is ready for integration. Now you move "master" to "_e" on your
local and push.

7. When I fetch, I'll see that "remotes/hcs/master" has moved to where
"remotes/hcs/_e" stands (and also "_e" and "remotes/origin/_e").

8. Now I move my master to "remotes/hcs/master" and push.

9. When you fetch, you see that I have agreed your move of integrating
"_e" into master.

[1] The underscore will be removed if this workflow goes stable.
<span class="meta-text">[!todo Remove this and the underscores once this has happened.]</span>
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/568 -->
<span class="postsummary" id="post_hh/568">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_566.html#post_hh/568">&lt;hh/568&gt;</a></span>
<span class="parent"><a href="../hh/thread_566.html#post_hh/566">&lt;&uarr;hh/566&gt;</a></span>
<span class="date">(2009-09-01)</span>
<div class="body">
<pre class="postbody">Exactly.

Maybe I'll try out something new soon. To stick with the example, at
step 3, you could comment on my changes by making new commits.

Let's suppose these are my commits (oldest at the top):

   something nice
   something funny
   something good

You could create a branch like this as remotes/attis/_e:

   something nice
   corrections to "something nice"
   something funny
   something good
   corrections to "something good"

You would describe the necessary things in the commits messages of the
correction commits. It is easy to make this tree from the original one
by using git cherry-pick. (You cherry-pick my first commit, and commit
your corrections to it. Then you pick my second commit, etc.)

Then you push. Then I fetch.

If I agree with all of your corrections, I make an interactive rebase
by squasing the corrections into the original commits:

   p something nice
   s corrections to "something nice"
   p something funny
   p something good
   s corrections to "something good"

It would be a bit faster to store your changes in git then writing
diffs in email. (Especially when there are several commits.) On the
other hand, the conversation about the modifications is harder. So
probably this method is applicable only for fixing trivial mistakes,
making the code to conform conventions, and improving style.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/570 -->
<span class="postsummary" id="post_hh/570">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_566.html#post_hh/570">&lt;hh/570&gt;</a></span>
<span class="parent"><a href="../hh/thread_566.html#post_hh/568">&lt;&uarr;hh/568&gt;</a></span>
<span class="date">(2009-09-01)</span>
<div class="body">
<pre class="postbody">I have just tried this out. Have a look at my '_fastforward' branch please.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/573 -->
<span class="postsummary" id="post_hh/573">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_566.html#post_hh/573">&lt;hh/573&gt;</a></span>
<span class="parent"><a href="../hh/thread_566.html#post_hh/570">&lt;&uarr;hh/570&gt;</a></span>
<span class="date">(2009-09-02)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; I have just tried this out. Have a look at my '_fastforward' branch please.

</span></span><span class="meta-text">[!todo Correct this to "_fastdownload".]</span>
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/573 -->
</div><!-- postbox for post hh/570 -->

<div class="postbox"><!-- post hh/574 -->
<span class="postsummary" id="post_hh/574">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_566.html#post_hh/574">&lt;hh/574&gt;</a></span>
<span class="parent"><a href="../hh/thread_566.html#post_hh/568">&lt;&uarr;hh/568&gt;</a></span>
<span class="date">(2009-09-02)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; It would be a bit faster to store your changes in git then writing
&gt; diffs in email.

</span></span>Sending the diffs in email sounds a bit silly. The diffs are there in
Git, why bother send it in email too?
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/577 -->
<span class="postsummary" id="post_hh/577">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_566.html#post_hh/577">&lt;hh/577&gt;</a></span>
<span class="parent"><a href="../hh/thread_566.html#post_hh/574">&lt;&uarr;hh/574&gt;</a></span>
<span class="date">(2009-09-07)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-2">&gt;&gt; It would be a bit faster to store your changes in git then writing
&gt;&gt; diffs in email.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Sending the diffs in email sounds a bit silly. The diffs are there in
&gt; Git, why bother send it in email too?

</span></span>Because if we want to discuss the commit in email, we will copy and
paste parts of the diff into the email and write the comments after
that. Have a look at almost any thread that discusses the commits.

It would not only be inconvenient not to paste the relevant parts of
the diff into the email, but it would make following the conversation
for someone else difficult, because we rebase and rewrite commits when
we talk about them on HH.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/577 -->
</div><!-- postbox for post hh/574 -->
</div><!-- postbox for post hh/568 -->
</div><!-- postbox for post hh/566 -->

  </body>
</html>
