<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Code formatting (2009-05-07 3b4f6d36 179f5cf18e)</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Code formatting (2009-05-07 3b4f6d36 179f5cf18e)</h1>


<div class="postbox"><!-- post hh/386 -->
<span class="postsummary" id="post_hh/386">
<span class="author">Csaba Hoch</span>
<span class="subject">Code formatting (2009-05-07 3b4f6d36 179f5cf18e)</span>
<span class="tags">[commit]</span>
<span class="index"><a href="../hh/thread_386.html#post_hh/386">&lt;hh/386&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2009-07-07)</span>
<div class="body">
<pre class="postbody">From hklib.Generator.full_thread:

  for curr_post in thread._postdb.iter_thread(thread):
      l.append(Html.thread_post_header(curr_post.htmlfilebasename(),
                                       Html.escape(curr_post.author()),
                                       Html.escape(curr_post.subject()),
                                       curr_post.tags(),
                                       curr_post.heapid(),
                                       options.date_fun(curr_post,
                                                        options)))

    l.append(Html.enclose('postbody',
                          Html.escape(curr_post.body()), tag='pre'))

What do you think about using this formatting instead:

  for curr_post in thread._postdb.iter_thread(thread):
      l.append(
          Html.thread_post_header(
              curr_post.htmlfilebasename(),
              Html.escape(curr_post.author()),
              Html.escape(curr_post.subject()),
              curr_post.tags(),
              curr_post.heapid(),
              options.date_fun(curr_post, options)))

      l.append(
        Html.enclose(
            'postbody',
            Html.escape(curr_post.body()), tag='pre'))

I think it is more readable and more robust. By roboust I mean that
if you have to indent a paragraph that you made using the first
formatting method, you have a much higher change of having to insert
newlines, as you did in 179f5cf18e (2009-05-17).

If you agree, would you change the code?
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/624 -->
<span class="postsummary" id="post_hh/624">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_386.html#post_hh/624">&lt;hh/624&gt;</a></span>
<span class="parent"><a href="../hh/thread_386.html#post_hh/386">&lt;&uarr;hh/386&gt;</a></span>
<span class="date">(2009-10-02)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; What do you think about using this formatting instead:
&gt;
&gt;   for curr_post in thread._postdb.iter_thread(thread):
&gt;       l.append(
&gt;           Html.thread_post_header(
&gt;               curr_post.htmlfilebasename(),
&gt;               Html.escape(curr_post.author()),
&gt;               Html.escape(curr_post.subject()),
&gt;               curr_post.tags(),
&gt;               curr_post.heapid(),
&gt;               options.date_fun(curr_post, options)))
&gt;
&gt;       l.append(
&gt;         Html.enclose(
&gt;             'postbody',
&gt;             Html.escape(curr_post.body()), tag='pre'))
&gt;
&gt; I think it is more readable and more robust. By roboust I mean that
&gt; if you have to indent a paragraph that you made using the first
&gt; formatting method, you have a much higher change of having to insert
&gt; newlines, as you did in 179f5cf18e (2009-05-17).
&gt;
&gt; If you agree, would you change the code?

</span></span>It loooks better... but I think the Python coding conventions dictate
that if a function's argument list is broken, the continuation lines
should be indented to where the first argument starts. Can we
disregard this rule?
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/626 -->
<span class="postsummary" id="post_hh/626">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_386.html#post_hh/626">&lt;hh/626&gt;</a></span>
<span class="parent"><a href="../hh/thread_386.html#post_hh/624">&lt;&uarr;hh/624&gt;</a></span>
<span class="date">(2009-10-02)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; It loooks better... but I think the Python coding conventions dictate
&gt; that if a function's argument list is broken, the continuation lines
&gt; should be indented to where the first argument starts. Can we
&gt; disregard this rule?

</span></span>I don't like that rule.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/679 -->
<span class="postsummary" id="post_hh/679">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_386.html#post_hh/679">&lt;hh/679&gt;</a></span>
<span class="parent"><a href="../hh/thread_386.html#post_hh/626">&lt;&uarr;hh/626&gt;</a></span>
<span class="date">(2009-10-17)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-2">&gt;&gt; It loooks better... but I think the Python coding conventions dictate
&gt;&gt; that if a function's argument list is broken, the continuation lines
&gt;&gt; should be indented to where the first argument starts. Can we
&gt;&gt; disregard this rule?
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; I don't like that rule.

</span></span>Well, I didn't either on first look. Then I noticed how most of the
time it produces good-looking and comprehensible code, but there are
many exceptions, and they are strong ones, especially when the produced
code would look like this:

    val = function(another_function_with_a_very_very_long_name(first,
                                                               second,
                                                               third))

(Note that no-one would ever indent it like this in C.)

So let's just say you can use either this or the single-indent
continuation, whichever looks better.
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/680 -->
<span class="postsummary" id="post_hh/680">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_386.html#post_hh/680">&lt;hh/680&gt;</a></span>
<span class="parent"><a href="../hh/thread_386.html#post_hh/679">&lt;&uarr;hh/679&gt;</a></span>
<span class="date">(2009-10-17)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-2">&gt;&gt; I don't like that rule.
</span></span><span class="quote"><span class="quote-1">&gt;
&gt; Well, I didn't either on first look. Then I noticed how most of the
&gt; time it produces good-looking and comprehensible code,

</span></span>As an example, this:

    actions = [ action for action in actions
                if action.between(options.since, options.until) ]

looks much better than this:

    actions = [ action for action in actions
        if action.between(options.since, options.until) ]

<span class="meta-text">[!todo Merge this into the parent post.]</span>
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/680 -->

<div class="postbox"><!-- post hh/685 -->
<span class="postsummary" id="post_hh/685">
<span class="author">Csaba Hoch</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_386.html#post_hh/685">&lt;hh/685&gt;</a></span>
<span class="parent"><a href="../hh/thread_386.html#post_hh/679">&lt;&uarr;hh/679&gt;</a></span>
<span class="date">(2009-10-17)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-3">&gt;&gt;&gt; It loooks better... but I think the Python coding conventions
&gt;&gt;&gt; dictate that if a function's argument list is broken, the
&gt;&gt;&gt; continuation lines should be indented to where the first argument
&gt;&gt;&gt; starts. Can we disregard this rule?

</span></span><span class="quote"><span class="quote-2">&gt;&gt; I don't like that rule.

</span></span>I don't know why I said this. I think I had something else in mind,
but I can't recall what. Sometimes I use that form, too.

<span class="quote"><span class="quote-1">&gt; So let's just say you can use either this or the single-indent
&gt; continuation, whichever looks better.

</span></span>Yes, let's say that.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/685 -->
</div><!-- postbox for post hh/679 -->
</div><!-- postbox for post hh/626 -->
</div><!-- postbox for post hh/624 -->
</div><!-- postbox for post hh/386 -->

  </body>
</html>
