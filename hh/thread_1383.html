<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Deprecating config file format 1 and 2</title>
    <link rel="stylesheet" href="../static/css/heapindex.css" type="text/css" />
  </head>
  <body >
    <h1 id="header">Deprecating config file format 1 and 2</h1>


<div class="post-box"><!-- post hh/1383 -->
<div class="post-summary" id="post-summary-hh-1383">
<span class="author">Csaba Hoch</span>
<span class="subject">Deprecating config file format 1 and 2</span>
<span class="tags">[issue, removal]</span>
<span class="index"><a href="../hh/thread_1383.html#post-summary-hh-1383">&lt;hh/1383&gt;</a></span>
<span class="date">(2010-09-19)</span>
<span class="container-button post-summary-button">Children:&nbsp;<a href="../hh/thread_1383.html#post-summary-hh-1407">hh/1407</a></span>
<pre class="post-body-content">In commit d823eb0 [1] I created a new config file format called
"format 3". In the commit message I said that "the older formats are
considered to be deprecated." I now propose deprecating the old
formats. This could be done by having Heapkeeper v0.8 print a warning
when the user uses these formats. Heapkeeper v0.9 and later would
either print an error message in this case or would not even recognize
the old formats. (Opinion?) This would mean that we could delete the
source code and test code that deals with the legacy formats (~285 LOC).

[1] "hklib: config converter functions", 2010-04-10, Csaba Hoch
</pre></div><!-- post-summary -->

<div class="post-box"><!-- post hh/1407 -->
<div class="post-summary" id="post-summary-hh-1407">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1383.html#post-summary-hh-1407">&lt;hh/1407&gt;</a></span>
<span class="date">(2010-10-03)</span>
<span class="container-button post-summary-button">Parent:&nbsp;<a href="../hh/thread_1383.html#post-summary-hh-1383">hh/1383</a></span>
<span class="container-button post-summary-button">Children:&nbsp;-</span>
<pre class="post-body-content">This has timed out long ago, so it passes. But there is an open
question:

<span class="quote"><span class="quote-1">&gt; Heapkeeper v0.9 and later would
&gt; either print an error message in this case or would not even recognize
&gt; the old formats. (Opinion?)
</span></span>
If we had a user base, we should consider keeping the legacy code. But
since we have none (that we know of) other than us, we should take
this opportunity to make the code simpler.

Even if we had a user base, we could move this code to a separate
utility that would convert the legacy config files to current ones.
Then, the 285 LOC and all the problems it may cause would at least be
separated.
</pre></div><!-- post-summary -->
</div><!-- postbox for post hh/1407 -->
</div><!-- postbox for post hh/1383 -->

  </body>
</html>
