<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Thread hh/1207</title>
    <link rel=stylesheet href="../heapindex.css" type="text/css">
  </head>
  <body>
    <h1 id="header">Thread hh/1207</h1>


<div class="postbox"><!-- post hh/1207 -->
<span class="postsummary" id="post_hh/1207">
<span class="author">Csaba Hoch</span>
<span class="subject">Non-breaking space (character 160)</span>
<span class="tags">[issue]</span>
<span class="index"><a href="../hh/thread_1207.html#post_hh/1207">&lt;hh/1207&gt;</a></span>
<span class="parent">&lt;root&gt;</span>
<span class="date">(2010-05-02)</span>
<div class="body">
<pre class="postbody">There are 43 posts in Heapkeeper Heap that contain character 160,
which is "non-breaking whitespace" [1]. 8 of them are from me, the
others are from Attis.

Usually these characters are after quote signs, for example [2]:

    &gt; It makes the following substitutions:
    &gt;
    &gt; \d160 \d160- Copyright (C) 2009 My Name
    &gt; \d160 \d160+ Copyright (C) 2009-2010 My Name

(I denoted the non-breaking space with "\d160".)

I suspect that the web interface of GMail inserts these characters,
and I have less non-breaking spaces than Attis because I use the
GMail web interface less.

I'm working on post parsing, and the raw blocks don't work correctly
because they assume that all spaces are normal spaces.

We have a few possibilities to resolve this issue:

1. Convert the non-breaking spaces to normal spaces in all post files
   in the repositories, and modify Heapkeeper to do this conversion
   when downloading new emails.
2. Don't modify the repositories, but modify Heapkeeper to convert the
   non-breaking spaces to normal spaces when parsing the post files.
   This way the post files will contain the non-breaking spaces, but
   the post objects will contain only normal spaces.
3. Let the post objects contain non-breaking spaces. I should write
   post body parsing in a way that it accepts both non-breaking and
   normal spaces.

I dislike (3) because then everyone later working with post bodies
should be aware of the issue of non-breaking spaces and handle them
explicitly. (1) has the advantage over (2) that command line tools
like grep and sed will work fine with post files without the user
having to worry about non-breaking spaces. Also, I think that text
files in general should not contain non-breaking spaces, and post
files are text files.

[1] <a href="http://en.wikipedia.org/wiki/Non-breaking_space">http://en.wikipedia.org/wiki/Non-breaking_space</a>
[2] <a href="../hh/thread_1198.html#post_hh/1199">heap://1199</a>
</pre></div>
</span><!-- postsummary -->

<div class="postbox"><!-- post hh/1208 -->
<span class="postsummary" id="post_hh/1208">
<span class="author">Attila Nagy</span>
<span class="subject"><span class="star">&mdash;</span></span>
<span class="index"><a href="../hh/thread_1207.html#post_hh/1208">&lt;hh/1208&gt;</a></span>
<span class="parent"><a href="../hh/thread_1207.html#post_hh/1207">&lt;&uarr;hh/1207&gt;</a></span>
<span class="date">(2010-05-02)</span>
<div class="body">
<pre class="postbody"><span class="quote"><span class="quote-1">&gt; We have a few possibilities to resolve this issue:
&gt;
&gt; 1. Convert the non-breaking spaces to normal spaces in all post files
&gt;   in the repositories, and modify Heapkeeper to do this conversion
&gt;   when downloading new emails.
&gt; 2. Don't modify the repositories, but modify Heapkeeper to convert the
&gt;   non-breaking spaces to normal spaces when parsing the post files.
&gt;   This way the post files will contain the non-breaking spaces, but
&gt;   the post objects will contain only normal spaces.
&gt; 3. Let the post objects contain non-breaking spaces. I should write
&gt;   post body parsing in a way that it accepts both non-breaking and
&gt;   normal spaces.

</span></span>We agreed on option 1 in an IM discussion. We considered how useful
having nbsp-s in post files would be. This may be important when
writing more serious documents in French, when you use an nbsp before
colons and semicolons, but we found out that in these positions, the
Unicode code point "NARROW NO-BREAK SPACE" (U+202F) has to be used,
which is absolutely permitted and supported.
</pre></div>
</span><!-- postsummary -->
</div><!-- postbox for post hh/1208 -->
</div><!-- postbox for post hh/1207 -->

  </body>
</html>
